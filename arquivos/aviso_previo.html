<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia de Aviso Prévio no PJe-Calc</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            color: #1a202c;
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.05);
        }
        .copy-btn {
            background-color: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            margin-left: 1rem;
        }
        .copy-btn svg {
            width: 1.5rem;
            height: 1.5rem;
            fill: #00678F;
            transition: fill 0.3s ease;
        }
        .copy-btn:hover svg {
            fill: #004562;
        }
        
        .drawer-container {
            padding: 1rem;
            background-color: #f0f4f8; /* Cor padrão (azul claro) para os tópicos principais */
            border-radius: 0.75rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
            margin-top: 1.5rem;
        }
        /* Estilo específico para a tabela de proporcionalidade: fundo branco e sombra sutil */
        .drawer-container.tabela {
            background-color: #ffffff; 
            border: 1px solid #e5e7eb; /* Borda cinza suave */
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08); /* Sombra mais sutil */
        }
        .drawer-header {
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .drawer-content {
            overflow: hidden;
            transition: all 0.5s ease-in-out;
            max-height: 0;
        }
        .drawer-header.active .arrow-icon {
            transform: rotate(180deg);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        th, td {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid #f0f4f8;
        }
        .drawer-container.tabela th {
            background-color: #f7f9fc; 
            font-weight: 600;
            color: #1a202c;
        }
        .drawer-container:not(.tabela) th {
             background-color: #f0f4f8;
            font-weight: 600;
            color: #1a202c;
        }

        /* Estilo para a lista de passos do PJe-Calc */
        .pje-step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 1.25rem; 
        }
        .pje-number {
            flex-shrink: 0; 
            width: 2rem;
            height: 2rem;
            background-color: #00678F;
            color: white;
            border-radius: 0.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 700;
            font-size: 1rem;
            margin-right: 0.75rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .pje-content {
            padding-top: 0.125rem;
            color: #1a202c;
            text-align: justify;
        }
        .pje-arrow-icon {
            flex-shrink: 0;
            width: 1.25rem;
            height: 1.25rem;
            fill: none;
            stroke: #00678F;
            stroke-width: 2.5;
            margin-right: 0.5rem;
            margin-top: 0.3rem; 
        }
    </style>
</head>
<body>

    <div class="container my-8 relative">
        <img src="https://site.trt19.jus.br/sites/default/files/logo-trt19.png" alt="Logo do TRT19" class="absolute top-4 right-4 w-36 h-auto">
        
        <section id="aviso-previo" class="content-section">
            <h2 class="text-3xl font-bold text-[#00678F] mb-4">Aviso Prévio</h2>
            <p class="text-gray-700 leading-relaxed text-justify">O aviso prévio é a formalização da rescisão do contrato de trabalho, servindo como um período de transição para que tanto o empregado quanto o empregador possam se preparar para o término do vínculo empregatício. Trata-se de um direito fundamental e irrenunciável do trabalhador, garantido pela Constituição Federal. Seja trabalhado ou indenizado, o aviso prévio sempre **integra o contrato de trabalho**. Isso significa que o período do aviso, mesmo que não seja efetivamente trabalhado, é somado ao tempo de serviço para o cálculo de outras verbas, como férias e 13º salário. Em alguns casos, essa soma pode garantir que o empregado atinja um novo período aquisitivo de férias ou um novo mês para o cálculo do 13º.</p>

            <h5 class="text-lg mt-4 mb-1 font-semibold text-gray-800">Tipos de Aviso Prévio</h5>
            <p class="text-gray-700 leading-relaxed text-justify">O aviso prévio pode ser de dois tipos principais:</p>
            <ul class="list-disc list-inside mt-2 space-y-1 text-gray-700">
                <li class="text-justify"><strong>Aviso Prévio Trabalhado:</strong> O período em que o empregado continua a trabalhar. A lei garante ao trabalhador dispensa de 2 horas diárias ou 7 dias corridos para buscar novo emprego (dispensa sem justa causa).</li>
                <li class="text-justify"><strong>Aviso Prévio Indenizado:</strong> O empregador paga o período sem exigir o trabalho.</li>
            </ul>

            <h5 class="text-lg mt-4 mb-1 font-semibold text-gray-800">Duração do Aviso Prévio</h5>
            <p class="text-gray-700 leading-relaxed text-justify">Com a Lei nº 12.506/2011, a duração do aviso prévio tornou-se proporcional ao tempo de serviço:</p>
            <ul class="list-disc list-inside mt-2 space-y-1 text-gray-700">
                <li>O período inicial é de 30 dias para empregados com até um ano de serviço.</li>
                <li>A cada ano completo de trabalho na mesma empresa, são adicionados 3 dias, podendo o aviso prévio chegar a, no máximo, **90 dias**.</li>
            </ul>

            <p class="mt-2 text-gray-700 leading-relaxed text-justify"><strong>Exemplo:</strong> Um empregado que trabalhou por 3 anos completos tem direito a 39 dias de aviso prévio (30 dias base + 3 dias por ano adicional, totalizando 9 dias).</p>

            <div id="tabela-proporcionalidade-drawer" class="drawer-container tabela">
                <div id="tabela-proporcionalidade-header" class="drawer-header">
                    <h5 class="text-lg font-semibold text-gray-900">Tabela de Proporcionalidade do Aviso Prévio (Lei 12.506/2011)</h5>
                    <svg class="arrow-icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </div>
                <div id="tabela-proporcionalidade-content" class="drawer-content">
                    <table class="border border-gray-300 rounded-lg overflow-hidden text-sm">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="p-3">Tempo de serviço (anos completos)</th>
                                <th class="p-3">Aviso prévio proporcional (nº de dias)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>0</td><td>30</td></tr>
                            <tr><td>1</td><td>33</td></tr>
                            <tr><td>2</td><td>36</td></tr>
                            <tr><td>3</td><td>39</td></tr>
                            <tr><td>4</td><td>42</td></tr>
                            <tr><td>5</td><td>45</td></tr>
                            <tr><td>6</td><td>48</td></tr>
                            <tr><td>7</td><td>51</td></tr>
                            <tr><td>8</td><td>54</td></tr>
                            <tr><td>9</td><td>57</td></tr>
                            <tr><td>10</td><td>60</td></tr>
                            <tr><td>11</td><td>63</td></tr>
                            <tr><td>12</td><td>66</td></tr>
                            <tr><td>13</td><td>69</td></tr>
                            <tr><td>14</td><td>72</td></tr>
                            <tr><td>15</td><td>75</td></tr>
                            <tr><td>16</td><td>78</td></tr>
                            <tr><td>17</td><td>81</td></tr>
                            <tr><td>18</td><td>84</td></tr>
                            <tr><td>19</td><td>87</td></tr>
                            <tr><td>20+</td><td>90</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div id="base-legal-drawer" class="drawer-container">
                <div id="base-legal-header" class="drawer-header">
                    <h4 class="text-xl font-semibold text-[#00678F]">Base Legal e Jurisprudência</h4>
                    <svg class="arrow-icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </div>
                <div id="base-legal-content" class="drawer-content">
                    <p class="text-gray-700 leading-relaxed text-justify mt-4">O aviso prévio é um direito consolidado na legislação e na jurisprudência trabalhista:</p>
                    <h5 class="text-lg font-semibold text-gray-800 mt-4">Fontes Normativas</h5>
                    
                    <hr class="my-4 border-gray-300">
                    <h5 class="text-base font-semibold text-gray-800">Constituição Federal (CF/88):</h5>
                    <ul class="list-disc list-inside text-gray-700 leading-relaxed mt-2 ml-4 space-y-3">
                        <li><strong>Artigo 7º, inciso XXI:</strong>
                            <p class="text-sm italic mt-1 ml-4 border-l-2 border-gray-400 pl-3">"aviso prévio proporcional ao tempo de serviço, sendo no mínimo de trinta dias, nos termos da lei;"</p>
                        </li>
                    </ul>

                    <hr class="my-4 border-gray-300">
                    <h5 class="text-base font-semibold text-gray-800">CLT (Consolidação das Leis do Trabalho):</h5>
                    <ul class="list-disc list-inside text-gray-700 leading-relaxed mt-2 ml-4">
                        <li><strong>Artigo 487 (Concessão e Prazo):</strong>
                            <p class="text-sm italic mt-1 ml-4 border-l-2 border-gray-400 pl-3">Trata da obrigatoriedade e do prazo mínimo de 30 dias para o aviso prévio, determinando o direito a redução de jornada ou dias de ausência.</p>
                        </li>
                    </ul>
                    
                    <hr class="my-4 border-gray-300">
                    <h5 class="text-base font-semibold text-gray-800">Lei nº 12.506/2011:</h5>
                    <ul class="list-disc list-inside text-gray-700 leading-relaxed mt-2 ml-4">
                        <li><strong>Proporcionalidade:</strong>
                            <p class="text-sm italic mt-1 ml-4 border-l-2 border-gray-400 pl-3">Regulamentou o acréscimo de 3 dias no aviso prévio a cada ano completo de serviço, podendo chegar ao máximo de 90 dias.</p>
                        </li>
                    </ul>
                    <hr class="my-6 border-gray-300">

                    <h5 class="text-lg font-semibold text-gray-800">Jurisprudência</h5>
                    <p class="text-gray-700 leading-relaxed text-justify mt-4">O Tribunal Superior do Trabalho (TST) consolidou o entendimento sobre diversos aspectos do aviso prévio, detalhando sua aplicação prática:</p>
                    
                    <h6 class="text-base font-semibold text-gray-800 mt-4">Natureza e Irrenunciabilidade</h6>
                    <div class="p-4 bg-gray-100 rounded-md mt-2 border border-gray-300">
                        <p class="font-bold text-sm">Súmula 276/TST:</p>
                        <p class="text-sm mt-1 italic">"O aviso prévio é irrenunciável pelo empregado. O pedido de dispensa de cumprimento não desobriga o empregador de pagar o valor correspondente, salvo comprovação de haver o prestador de serviços obtido novo emprego."</p>
                    </div>

                    <h6 class="text-base font-semibold text-gray-800 mt-6">Contagem e Projeção do Prazo</h6>
                    <div class="p-4 bg-gray-100 rounded-md mt-2 border border-gray-300">
                        <p class="font-bold text-sm">OJ 82/SDI-I/TST (Baixa na CTPS):</p>
                        <p class="text-sm mt-1 italic">"A data de saída a ser anotada na CTPS deve ser a do último dia do aviso prévio, ainda que indenizado."</p>
                        <p class="font-bold text-sm mt-3">Súmula 380/TST (Contagem do Prazo):</p>
                        <p class="text-sm mt-1 italic">"Aplica-se a regra do 'Código Civil' (art. 132) para a contagem do prazo do aviso prévio, excluindo-se o dia do começo e incluindo-se o dia final."</p>
                    </div>
                    
                    <h6 class="text-base font-semibold text-gray-800 mt-6">Reflexos e Estabilidade</h6>
                    <div class="p-4 bg-gray-100 rounded-md mt-2 border border-gray-300">
                        <p class="font-bold text-sm">Súmula 348/TST (Estabilidade):</p>
                        <p class="text-sm mt-1 italic">O aviso prévio indenizado se soma ao período de serviço para fins de aquisição de estabilidade provisória (ex: gestante, cipeiro).</p>
                        <p class="font-bold text-sm mt-3">OJ 83/SDI-I/TST (Extinção por Empregador):</p>
                        <p class="text-sm mt-1 italic">A extinção do contrato de trabalho, por iniciativa do empregador, no curso do aviso prévio dado pelo empregado, configura a dispensa sem justa causa, e o empregador é obrigado a pagar todas as verbas rescisórias como se a demissão tivesse ocorrido por sua iniciativa.</p>
                    </div>

                    <h6 class="text-base font-semibold text-gray-800 mt-6">Situações Específicas</h6>
                    <div class="p-4 bg-gray-100 rounded-md mt-2 border border-gray-300">
                        <p class="font-bold text-sm">Súmula 14/TST (Culpa Recíproca):</p>
                        <p class="text-sm mt-1 italic">No caso de culpa recíproca na rescisão do contrato de trabalho, o aviso prévio é reduzido pela metade.</p>
                        <p class="font-bold text-sm mt-3">Nota Técnica 184/12/MTE:</p>
                        <p class="text-sm mt-1 italic">Esclarece que a proporcionalidade do aviso prévio (3 dias por ano) aplica-se exclusivamente ao empregado em caso de dispensa sem justa causa e considera apenas anos completos.</p>
                    </div>
                </div>
            </div>

            <div id="calculo-deducoes-drawer" class="drawer-container">
                <div id="calculo-deducoes-header" class="drawer-header">
                    <h4 class="text-xl font-semibold text-[#00678F]">Base de Cálculo e Deduções</h4>
                    <svg class="arrow-icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </div>
                <div id="calculo-deducoes-content" class="drawer-content">
                    <h3 class="text-lg mt-4 mb-2 font-bold text-gray-800">Cálculo do Aviso Prévio</h3>
                    <p class="text-gray-700 leading-relaxed text-justify mt-4">O valor do aviso prévio é calculado com base na maior remuneração do empregado. Isso inclui o salário fixo e outras verbas habituais, como horas extras, adicionais (noturno, de periculosidade, insalubridade) e comissões.</p>

                    <h5 class="text-lg mt-4 mb-1 font-semibold text-gray-800">Verbas que Integram a Base de Cálculo</h5>
                    <p class="text-gray-700 leading-relaxed text-justify">A remuneração do empregado, para fins de cálculo do aviso prévio, é composta pelas seguintes verbas, desde que pagas de forma habitual:</p>
                    <ul class="list-disc list-inside mt-2 space-y-1 text-gray-700">
                        <li class="text-justify">Salário Fixo: É o valor nominal do salário mensal.</li>
                        <li class="text-justify">Horas Extras: A média das horas extras realizadas.</li>
                        <li class="text-justify">Adicionais: Incluem a média ou o valor fixo de adicionais como Adicional Noturno, de Insalubridade e de Periculosidade.</li>
                        <li class="text-justify">Comissões: A média das comissões recebidas, comum em cargos de vendas.</li>
                        <li class="text-justify">Gratificações Habitualmente Pagas: Qualquer gratificação paga com regularidade, como gratificações por tempo de serviço.</li>
                        <li class="text-justify">Salário-Utilidade (ou Prestações In Natura): O fornecimento de bens ou serviços de forma habitual pelo empregador ao empregado, como parte da remuneração. O Artigo 458 da CLT estabelece que, além do salário, consideram-se remuneração a alimentação, habitação e outras prestações que a empresa fornecer habitualmente.</li>
                            <ul class="list-disc list-inside mt-2 space-y-1 text-gray-700 ml-4">
                                <li class="text-justify">Atenção: Benefícios concedidos para o trabalho (como ferramentas, auxílio-alimentação via PAT, ajuda de custo, diárias que não excedam 50% do salário, assistência médica e odontológica) não integram o salário.</li>
                            </ul>
                    </ul>

                    <h5 class="text-lg mt-4 mb-1 font-semibold text-gray-800">Cálculos Exemplo</h5>
                    <p class="text-gray-700 leading-relaxed text-justify">Para calcular o aviso prévio, basta somar todas as verbas que compõem a remuneração.</p>
                    <p class="mt-2 text-gray-700 leading-relaxed text-justify">Exemplo (Salário Fixo + Adicional): Um empregado com 3 anos de serviço, que recebia R$ 1.200,00 de salário e R$ 360,00 de adicional de periculosidade. O aviso prévio é de 39 dias.</p>
                    <ul class="list-disc list-inside mt-2 space-y-1 text-gray-700 ml-4">
                        <li>Remuneração total: R$ 1.200,00 + R$ 360,00 = R$ 1.560,00</li>
                        <li>Cálculo: (R$ 1.560,00 / 30) x 39 = R$ 2.028,00</li>
                    </ul>

                    <h3 class="text-lg mt-6 mb-2 font-bold text-gray-800">Deduções Legais e Outros Descontos</h3>
                    <p class="text-gray-700 leading-relaxed text-justify mt-4">As incidências tributárias e previdenciárias sobre o aviso prévio variam conforme o tipo:</p>
                    <ul class="list-disc list-inside mt-2 space-y-1 text-gray-700">
                        <li class="text-justify">Aviso Prévio Trabalhado: É considerado rendimento tributável. **Incide Imposto de Renda (IR) e Contribuição Previdenciária (INSS)**.</li>
                        <li class="text-justify">Aviso Prévio Indenizado: Não é considerado rendimento tributável, mas sim indenizatório (Súmula 386/STJ e STF). **Não incide Imposto de Renda (IR) nem Contribuição Previdenciária (INSS)**.</li>
                    </ul>
                    
                    <p class="text-gray-700 leading-relaxed text-justify mt-4">Outras deduções que podem ser aplicadas sobre o valor do aviso prévio incluem descontos por danos causados à empresa, empréstimos consignados, adiantamentos salariais, contribuições sindicais e mensalidades de convênios.</p>
                    
                    <h5 class="text-lg mt-4 mb-1 font-semibold text-gray-800">Exemplo de Desconto (Aviso Prévio não Cumprido)</h5>
                    <p class="text-gray-700 leading-relaxed text-justify">Caso o empregado peça demissão e não cumpra o aviso prévio, a empresa poderá descontar o valor correspondente. Se o salário base do empregado for de R$ 3.000,00 e o aviso prévio devido seria de 30 dias (R$ 3.000,00), esse valor será deduzido do saldo de verbas rescisórias a que ele tem direito.</p>
                </div>
            </div>

            <div id="reflexos-drawer" class="drawer-container">
                <div id="reflexos-header" class="drawer-header">
                    <h4 class="text-xl font-semibold text-[#00678F]">Reflexos em Outras Verbas</h4>
                    <svg class="arrow-icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </div>
                <div id="reflexos-content" class="drawer-content">
                    <p class="text-gray-700 leading-relaxed text-justify mt-4">O período, mesmo que indenizado, integra o tempo de serviço para todos os fins, o que gera reflexos em diversas outras verbas rescisórias:</p>

                    <h5 class="text-lg mt-4 mb-1 font-semibold text-gray-800">Verbas que Recebem Reflexo</h5>
                    <ul class="list-disc list-inside mt-2 space-y-1 text-gray-700">
                        <li class="text-justify"><strong>Férias Proporcionais:</strong> O período do aviso prévio (trabalhado ou indenizado) é considerado tempo de serviço para o cálculo das férias. Se o acréscimo de dias fizer com que o empregado complete um novo período aquisitivo de 12 meses, ele terá direito a mais um 1/12 avos de férias.</li>
                        <li class="text-justify"><strong>13º Salário Proporcional:</strong> Se o aviso prévio se estender por **15 dias ou mais** dentro de um novo mês (após a comunicação da dispensa), o empregado terá direito a mais 1/12 avos de 13º salário proporcional.</li>
                        <li class="text-justify"><strong>FGTS (Fundo de Garantia por Tempo de Serviço):</strong> O aviso prévio (tanto o trabalhado quanto o indenizado) é base de cálculo para o depósito do FGTS. O empregador deve depositar o valor correspondente ao período do aviso e sobre ele incide a multa de 40% (no caso de dispensa sem justa causa).</li>
                        <li class="text-justify"><strong>Benefícios Previdenciários:</strong> A projeção do aviso prévio indenizado deve ser considerada para determinar a data final do contrato de trabalho, o que é relevante para o acesso a benefícios como o Seguro-Desemprego.</li>
                        <li class="text-justify"><strong>Estabilidade Provisória:</strong> A projeção do aviso prévio (indenizado ou trabalhado) é fundamental para verificar se o empregado atingiu alguma estabilidade provisória (como a estabilidade da gestante, do dirigente sindical ou do cipeiro), conforme a Súmula 348 do TST.</li>
                    </ul>
                </div>
            </div>

            <div id="calculadora-aviso-previo-drawer" class="drawer-container">
                <div id="calculadora-aviso-previo-header" class="drawer-header">
                    <h4 class="text-xl font-semibold text-[#00678F]">Calculadora (Simulação)</h4>
                    <svg class="arrow-icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </div>
                <div id="calculadora-aviso-previo-content" class="drawer-content">
                    <p class="text-gray-700 leading-relaxed text-justify mt-4">Utilize esta calculadora para determinar a quantidade de dias e o valor total do aviso prévio com base no salário e no tempo de serviço.</p>
                    
                    <div class="p-4 bg-white rounded-lg shadow-inner mt-4">
                        <h5 class="text-md font-semibold text-gray-800">Calculadora de Dias de Aviso Prévio</h5>
                        <p class="text-gray-600 text-sm mb-2">Preencha o campo abaixo para calcular os dias de aviso prévio. O resultado será automaticamente inserido na calculadora de valor.</p>
                        <div class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4">
                            <div class="flex-1">
                                <label for="anosServicoInput" class="block text-sm text-gray-700">Anos completos de serviço:</label>
                                <input type="number" id="anosServicoInput" class="mt-1 block w-full rounded-md border-gray-300 p-2 focus:ring-[#00678F] focus:border-[#00678F]">
                            </div>
                        </div>
                        <button id="calculateDiasBtn" class="mt-4 w-full px-4 py-2 bg-[#00678F] text-white rounded-md hover:bg-[#004562] transition duration-300 shadow-md">Calcular Dias</button>
                        <div class="mt-4">
                            <div class="flex items-center">
                                <p id="diasResult" class="text-sm text-gray-700"></p>
                                <button id="copyDias" class="copy-btn hidden" aria-label="Copiar dias">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="p-4 bg-white rounded-lg shadow-inner mt-4">
                        <h5 class="text-md font-semibold text-gray-800">Calculadora de Valor de Aviso Prévio</h5>
                        <p id="valorInstruction" class="text-gray-600 text-sm mb-2">Por favor, utilize a calculadora de dias acima para habilitar o cálculo de valor.</p>
                        <div class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4">
                            <div class="flex-1">
                                <label for="salarioInput" class="block text-sm text-gray-700">Remuneração Base Mensal (R$):</label>
                                <input type="text" id="salarioInput" class="mt-1 block w-full rounded-md border-gray-300 p-2 focus:ring-[#00678F] focus:border-[#00678F]">
                            </div>
                            <div class="flex-1">
                                <label for="diasInput" class="block text-sm text-gray-700">Dias de Aviso Prévio:</label>
                                <input type="text" id="diasInput" class="mt-1 block w-full rounded-md border-gray-300 p-2 focus:ring-[#00678F] focus:border-[#00678F]" readonly>
                            </div>
                        </div>
                        <button id="calculateValorBtn" class="mt-4 w-full px-4 py-2 bg-[#00678F] text-white rounded-md hover:bg-[#004562] transition duration-300 shadow-md" disabled>Calcular Valor</button>
                        <div class="mt-4">
                            <div class="flex items-center">
                                <p id="valorResult" class="text-sm text-gray-700"></p>
                                <button id="copyValor" class="copy-btn hidden" aria-label="Copiar valor">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 1H4C2.9 1 2 1.9 2 3v14h2V3h12V1zm3 4H8C6.9 5 6 5.9 6 7v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="pje-calc-drawer" class="drawer-container">
                <div id="pje-calc-header" class="drawer-header">
                    <h4 class="text-xl font-semibold text-[#00678F]">Lançamento no PJe-Calc</h4>
                    <svg class="arrow-icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </div>
                <div id="pje-calc-content" class="drawer-content">
                    <p class="text-gray-700 leading-relaxed text-justify mt-4">Siga o passo a passo para lançar o Aviso Prévio no PJe-Calc:</p>
                    
                    <p class="text-gray-700 leading-relaxed text-justify mt-4 font-semibold">
                        Destaca-se que na opção Dados do Cálculo - Parâmetros do Cálculo:
                    </p>
                    
                    <ul class="list-disc list-inside mt-2 space-y-2 text-gray-700 ml-4">
                        <li class="text-justify">O campo <strong>"Prazo de Aviso Prévio"</strong> encontra-se marcado na opção **Calculado**, entretanto pode ser configurado como **Não Apurar (30 dias)**, **Calculado (30 dias + 3 por ano, máx. 90)** ou **Informado (definido pelo usuário)**.</li>
                        <li class="text-justify">O campo <strong>"Aviso Prévio Indenizado"</strong> encontra-se marcado, entretanto pode ser desmarcado pelo usuário.</li>
                    </ul>
                    
                    <div class="my-4 flex justify-center">
                        <img src="imagens/aviso_previo1.png" alt="Tela de Parâmetros do Cálculo no PJe-Calc, destacando as opções 'Prazo de Aviso Prévio' e 'Projetar Aviso Prévio Indenizado'." class="rounded-lg shadow-xl max-w-full h-auto border border-gray-300">
                    </div>
                    <p class="text-gray-700 leading-relaxed text-justify mt-4 font-semibold">
                        Cumpridas tais etapas iniciais de parâmetros e configurações do cálculo para inclusão da verba Aviso Prévio, são necessárias as seguintes etapas:
                    </p>
                    
                    <div class="mt-4 space-y-4">
                        <div class="pje-step">
                            <svg class="pje-arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
                            </svg>
                            <div class="pje-number">1</div>
                            <div class="pje-content">Na grade lateral à esquerda escolha a opção <b>"Verbas"</b>. Obs.: A opção somente estará disponível após o preenchimento do Campo <b>"Dados do Cálculo"</b>.</div>
                        </div>
                        
                        <div class="pje-step">
                            <svg class="pje-arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
                            </svg>
                            <div class="pje-number">2</div>
                            <div class="pje-content">Selecione a opção Lançamento "<b>Expresso</b>".</div>
                        </div>
                        
                        <div class="pje-step">
                            <svg class="pje-arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
                            </svg>
                            <div class="pje-number">3</div>
                            <div class="pje-content">Em <b>"Verbas Principais"</b>, escolha a opção <b>"Aviso Prévio"</b> e clique em <b>"Salvar"</b>.</div>
                        </div>
                        
                        <div class="pje-step">
                            <svg class="pje-arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
                            </svg>
                            <div class="pje-number">4</div>
                            <div class="pje-content">
                                Após os passos acima, o sistema retornará uma tela de <b>"Ações"</b> com as configurações da <b>"Verba Escolhida"</b>, em que estarão disponíveis 4 opções. Escolha a opção desejada:
                                <ul class="list-disc list-inside mt-2 space-y-1 text-gray-700 ml-4">
                                    <li class="text-justify"><b>Parâmetros</b>: Utilizado para ajustar os dados de cálculo da verba (tipo de parcela, incidências, período, base de cálculo, divisor, quantidade, etc.).</li>
                                    <li class="text-justify"><b>Ocorrências</b>: Utilizado para gerenciar ou visualizar as ocorrências da verba.</li>
                                    <li class="text-justify"><b>Excluir</b>: Utilizado para remover a verba principal.</li>
                                    <li class="text-justify"><b>Exibir Verba Reflexa</b>: Utilizado para visualizar as verbas dependentes, como a multa do Art. 467.</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="pje-step">
                            <svg class="pje-arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
                            </svg>
                            <div class="pje-number">5</div>
                            <div class="pje-content">Para finalizar, na grade lateral à esquerda, escolha a opção <strong>- Operações - Liquidar</strong>, após incluir todas as verbas devidas para fechar o cálculo.</div>
                        </div>
                    </div>
                    <h5 class="text-lg mt-8 mb-4 font-semibold text-gray-800 border-b pb-2">Imagens do Lançamento no PJe-Calc (Passos 1 a 4)</h5>

                    <div class="my-4 flex justify-center flex-col items-center">
                        <p class="text-sm text-gray-600 mb-2 font-medium">Passo 1 e 2: Acesso a "Verbas" e Lançamento "Expresso"</p>
                        <img src="imagens/verbas.png" alt="Tela inicial de Verbas no PJe-Calc, destacando a opção 'Verbas' na lateral esquerda e o botão 'Expresso' no centro." class="rounded-lg shadow-lg max-w-full h-auto border border-gray-300">
                    </div>

                    <div class="my-4 flex justify-center flex-col items-center">
                        <p class="text-sm text-gray-600 mb-2 font-medium">Passo 3: Seleção da verba "Aviso Prévio" na lista de Verbas Principais</p>
                        <img src="imagens/aviso_previo2.png" alt="Tela de 'Verbas Principais' no PJe-Calc, com a opção 'Aviso Prévio' marcada." class="rounded-lg shadow-lg max-w-full h-auto border border-gray-300">
                    </div>

                    <div class="my-4 flex justify-center flex-col items-center">
                        <p class="text-sm text-gray-600 mb-2 font-medium">Passo 4 - Opção "Exibir Verba Reflexa": Demonstração da multa do Art. 467</p>
                        <img src="imagens/aviso_previo3.1.png" alt="Tela de lista de Verbas, mostrando a verba principal 'AVISO PRÉVIO' e, após clicar em Exibir Verba Reflexa, a opção 'MULTA DO ARTIGO 467 DA CLT SOBRE AVISO PRÉVIO'." class="rounded-lg shadow-lg max-w-full h-auto border border-gray-300">
                    </div>

                    <div class="my-4 flex justify-center flex-col items-center">
                        <p class="text-sm text-gray-600 mb-2 font-medium">Passo 4 - Opção "Parâmetros": Acesso às configurações de cálculo da verba</p>
                        <img src="imagens/aviso_previo3.2.png" alt="Tela de lista de Verbas, mostrando a verba principal 'AVISO PRÉVIO' com o ícone para acesso aos 'Parâmetros da Verba'." class="rounded-lg shadow-lg max-w-full h-auto border border-gray-300">
                    </div>

                    <div class="my-4 flex justify-center flex-col items-center">
                        <p class="text-sm text-gray-600 mb-2 font-medium">Detalhe dos Parâmetros da Verba (Fórmula e Incidências)</p>
                        <img src="imagens/aviso_previo3.3.png" alt="Tela de 'Dados da Verba', mostrando as configurações de Parcela, Incidência (FGTS, IRPF), Ocorrência de Pagamento e a fórmula de cálculo." class="rounded-lg shadow-lg max-w-full h-auto border border-gray-300">
                    </div>

                     <div class="my-4 flex justify-center flex-col items-center">
                        <p class="text-sm text-gray-600 mb-2 font-medium">Passo 4 - Opção "Ocorrências": Acesso aos dados de valor e quantidade</p>
                        <img src="imagens/aviso_previo3.4.png" alt="Tela de lista de Verbas, mostrando a verba principal 'AVISO PRÉVIO' com o ícone para acesso às 'Ocorrências da Verba'." class="rounded-lg shadow-lg max-w-full h-auto border border-gray-300">
                    </div>
                    
                    <div class="my-4 flex justify-center flex-col items-center">
                        <p class="text-sm text-gray-600 mb-2 font-medium">Detalhe das Ocorrências (Valor, Divisor e Quantidade)</p>
                        <img src="imagens/aviso_previo3.5.png" alt="Tela de 'Dados de Ocorrências', mostrando os campos de 'Data Inicial', 'Data Final', 'Valor Calculado', 'Divisor 30', e 'Quantidade 39'." class="rounded-lg shadow-lg max-w-full h-auto border border-gray-300">
                    </div>

                </div>
            </div>

            </section>
    </div>

    <script>
        // Função para calcular os dias de aviso prévio e preencher o campo na segunda calculadora
        function calculateDays() {
            const anosInput = document.getElementById('anosServicoInput');
            const diasResult = document.getElementById('diasResult');
            const diasInput = document.getElementById('diasInput');
            const copyDiasBtn = document.getElementById('copyDias');
            const calculateValorBtn = document.getElementById('calculateValorBtn');
            const valorInstruction = document.getElementById('valorInstruction');
            
            const anos = parseInt(anosInput.value);

            if (isNaN(anos) || anos < 0) {
                diasResult.textContent = 'Por favor, insira um número válido de anos.';
                diasInput.value = '';
                copyDiasBtn.classList.add('hidden');
                calculateValorBtn.disabled = true;
                valorInstruction.classList.remove('hidden');
                return;
            }

            // O limite é de 90 dias, que corresponde a 20 anos de serviço (30 + 20*3)
            const dias = 30 + (Math.min(anos, 20) * 3); 
            diasResult.textContent = `Total de dias: ${dias} dias`;
            diasInput.value = dias; // Preenche a segunda calculadora automaticamente
            copyDiasBtn.classList.remove('hidden');
            calculateValorBtn.disabled = false;
            valorInstruction.classList.add('hidden');
        }

        // Função para calcular o valor do aviso prévio
        function calculateValue() {
            const salarioInput = document.getElementById('salarioInput');
            const diasInput = document.getElementById('diasInput');
            const valorResult = document.getElementById('valorResult');
            const copyValorBtn = document.getElementById('copyValor');

            // Processa o valor do salário para garantir que vírgulas e pontos sejam tratados corretamente
            const rawSalario = salarioInput.value.replace(/\./g, '').replace(',', '.');
            
            const dias = parseInt(diasInput.value);
            const salario = parseFloat(rawSalario);

            if (isNaN(salario) || salario <= 0) {
                valorResult.textContent = 'Por favor, insira uma remuneração base mensal válida e positiva.';
                copyValorBtn.classList.add('hidden');
                return;
            }
            
            const valor = (salario / 30) * dias;
            
            valorResult.textContent = `Valor do aviso prévio: ${valor.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}`;
            copyValorBtn.classList.remove('hidden');
        }

        // Função para copiar o texto
        function copyText(elementId) {
            const element = document.getElementById(elementId);
            if (!element) return;
            // Para elementos de input, copia o valor. Para elementos de texto, copia o texto.
            const textToCopy = element.tagName === 'INPUT' ? element.value : element.textContent;

            const tempInput = document.createElement('input');
            tempInput.value = textToCopy.replace('Total de dias: ', '').replace('Valor do aviso prévio: ', '').replace('R$', '').trim(); // Limpa o texto para copiar apenas o valor puro
            document.body.appendChild(tempInput);
            tempInput.select();
            try {
                document.execCommand('copy');
                // Alerta de cópia pode ser adicionado aqui
            } catch (err) {
                console.error('Falha ao copiar o texto:', err);
            } finally {
                document.body.removeChild(tempInput);
            }
        }


        // Lógica para as gavetas expansíveis
        function setupDrawer(drawerId) {
            const header = document.getElementById(`${drawerId}-header`);
            const content = document.getElementById(`${drawerId}-content`);
            if (!header || !content) return; // Garante que o elemento existe

            header.addEventListener('click', () => {
                const isExpanded = header.classList.toggle('active');
                if (isExpanded) {
                    content.style.maxHeight = (content.scrollHeight + 50) + "px"; // +50 para segurança
                } else {
                    content.style.maxHeight = '0';
                }
            });
        }
        
        // Adiciona os event listeners aos botões
        document.getElementById('calculateDiasBtn').addEventListener('click', calculateDays);
        document.getElementById('calculateValorBtn').addEventListener('click', calculateValue);
        document.getElementById('copyDias').addEventListener('click', () => copyText('diasResult'));
        document.getElementById('copyValor').addEventListener('click', () => copyText('valorResult'));

        // Configuração dos drawers
        setupDrawer('tabela-proporcionalidade');
        setupDrawer('base-legal');
        setupDrawer('calculo-deducoes'); 
        setupDrawer('reflexos'); 
        setupDrawer('calculadora-aviso-previo');
        setupDrawer('pje-calc');
    </script>
</body>
</html>